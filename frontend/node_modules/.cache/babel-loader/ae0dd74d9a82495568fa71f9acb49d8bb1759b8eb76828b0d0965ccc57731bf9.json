{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{FaTrash,FaUniversity,FaBookOpen,FaLayerGroup,FaGraduationCap}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=axios.create({baseURL:process.env.REACT_APP_API_BASE});const Courses=()=>{const[universities,setUniversities]=useState([]);useEffect(()=>{fetchUniversities();},[]);const fetchUniversities=async()=>{try{const res=await API.get('/api/universities');setUniversities(res.data);}catch(err){console.error('Failed to fetch universities:',err);}};const handleDelete=async(universityId,departmentName,courseName)=>{if(!window.confirm('Are you sure you want to delete this course?'))return;try{await API.patch(\"/api/universities/\".concat(universityId,\"/remove-course\"),{departmentName,courseName});fetchUniversities();// Refresh list\n}catch(err){console.error('Failed to delete course:',err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gray-100 min-h-screen\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-4xl font-bold text-center text-indigo-700 mb-10 flex items-center justify-center gap-3\",children:[/*#__PURE__*/_jsx(FaBookOpen,{className:\"text-yellow-500\"}),\"Course Catalog by University\"]}),universities.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center mt-10\",children:\"No universities or courses found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-10\",children:universities.map(uni=>{var _uni$departments;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-l-4 border-indigo-600 shadow-md rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-3xl font-extrabold text-indigo-700 flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(FaUniversity,{className:\"text-indigo-600\"}),uni.name]}),uni.location&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:uni.location})]}),((_uni$departments=uni.departments)===null||_uni$departments===void 0?void 0:_uni$departments.length)>0?uni.departments.map((dept,deptIndex)=>{var _dept$courses;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-10 border-t pt-6 border-gray-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"text-2xl font-semibold text-gray-800 flex justify-center items-center gap-2\",children:[/*#__PURE__*/_jsx(FaLayerGroup,{className:\"text-gray-600\"}),\"Department of \",dept.name]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-5 mt-3\",children:((_dept$courses=dept.courses)===null||_dept$courses===void 0?void 0:_dept$courses.length)>0?dept.courses.map((course,cIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 p-4 rounded-lg shadow-sm hover:shadow-lg transition\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-lg font-semibold text-blue-800 mb-1 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FaGraduationCap,{}),\" \",course.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:[\"Level: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:course.level})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:[\"Duration: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[course.duration,\" years\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:[\"Semesters: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:course.semesters})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDelete(uni._id,dept.name,course.name),className:\"inline-flex items-center gap-2 text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded\",children:[/*#__PURE__*/_jsx(FaTrash,{}),\" Delete\"]})]},cIndex)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic col-span-full text-center\",children:\"No courses available.\"})})]},deptIndex);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 italic text-center mt-4\",children:\"No departments found in this university.\"})]},uni._id);})})]});};export default Courses;","map":{"version":3,"names":["React","useState","useEffect","axios","FaTrash","FaUniversity","FaBookOpen","FaLayerGroup","FaGraduationCap","jsx","_jsx","jsxs","_jsxs","API","create","baseURL","process","env","REACT_APP_API_BASE","Courses","universities","setUniversities","fetchUniversities","res","get","data","err","console","error","handleDelete","universityId","departmentName","courseName","window","confirm","patch","concat","className","children","length","map","uni","_uni$departments","name","location","departments","dept","deptIndex","_dept$courses","courses","course","cIndex","level","duration","semesters","onClick","_id"],"sources":["C:/Users/Shivam/Desktop/Academic-Source/frontend/src/admin-pages/ManageCourses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  FaTrash,\r\n  FaUniversity,\r\n  FaBookOpen,\r\n  FaLayerGroup,\r\n  FaGraduationCap,\r\n} from 'react-icons/fa';\r\n\r\nconst API = axios.create({\r\n  baseURL: process.env.REACT_APP_API_BASE,\r\n});\r\n\r\nconst Courses = () => {\r\n  const [universities, setUniversities] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchUniversities();\r\n  }, []);\r\n\r\n  const fetchUniversities = async () => {\r\n    try {\r\n      const res = await API.get('/api/universities');\r\n      setUniversities(res.data);\r\n    } catch (err) {\r\n      console.error('Failed to fetch universities:', err);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (universityId, departmentName, courseName) => {\r\n    if (!window.confirm('Are you sure you want to delete this course?')) return;\r\n    try {\r\n      await API.patch(`/api/universities/${universityId}/remove-course`, {\r\n        departmentName,\r\n        courseName,\r\n      });\r\n      fetchUniversities(); // Refresh list\r\n    } catch (err) {\r\n      console.error('Failed to delete course:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-gray-100 min-h-screen\">\r\n      <h2 className=\"text-4xl font-bold text-center text-indigo-700 mb-10 flex items-center justify-center gap-3\">\r\n        <FaBookOpen className=\"text-yellow-500\" />\r\n        Course Catalog by University\r\n      </h2>\r\n\r\n      {universities.length === 0 ? (\r\n        <p className=\"text-gray-500 text-center mt-10\">\r\n          No universities or courses found.\r\n        </p>\r\n      ) : (\r\n        <div className=\"space-y-10\">\r\n          {universities.map((uni) => (\r\n            <div\r\n              key={uni._id}\r\n              className=\"bg-white border-l-4 border-indigo-600 shadow-md rounded-lg p-6\"\r\n            >\r\n              {/* University Heading - Centered */}\r\n              <div className=\"text-center mb-4\">\r\n                <h3 className=\"text-3xl font-extrabold text-indigo-700 flex items-center justify-center gap-2\">\r\n                  <FaUniversity className=\"text-indigo-600\" />\r\n                  {uni.name}\r\n                </h3>\r\n                {uni.location && (\r\n                  <p className=\"text-gray-500 text-sm mt-1\">{uni.location}</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Departments */}\r\n              {uni.departments?.length > 0 ? (\r\n                uni.departments.map((dept, deptIndex) => (\r\n                  <div\r\n                    key={deptIndex}\r\n                    className=\"mb-10 border-t pt-6 border-gray-300\"\r\n                  >\r\n                    {/* Department Heading - Centered */}\r\n                    <div className=\"text-center mb-4\">\r\n                      <h4 className=\"text-2xl font-semibold text-gray-800 flex justify-center items-center gap-2\">\r\n                        <FaLayerGroup className=\"text-gray-600\" />\r\n                        Department of {dept.name}\r\n                      </h4>\r\n                    </div>\r\n\r\n                    {/* Courses Grid */}\r\n                    <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-5 mt-3\">\r\n                      {dept.courses?.length > 0 ? (\r\n                        dept.courses.map((course, cIndex) => (\r\n                          <div\r\n                            key={cIndex}\r\n                            className=\"bg-gray-50 border border-gray-200 p-4 rounded-lg shadow-sm hover:shadow-lg transition\"\r\n                          >\r\n                            <h5 className=\"text-lg font-semibold text-blue-800 mb-1 flex items-center gap-2\">\r\n                              <FaGraduationCap /> {course.name}\r\n                            </h5>\r\n                            <p className=\"text-sm text-gray-600 mb-1\">\r\n                              Level: <span className=\"font-medium\">{course.level}</span>\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-600 mb-1\">\r\n                              Duration: <span className=\"font-medium\">{course.duration} years</span>\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-600 mb-3\">\r\n                              Semesters: <span className=\"font-medium\">{course.semesters}</span>\r\n                            </p>\r\n\r\n                            <button\r\n                              onClick={() =>\r\n                                handleDelete(uni._id, dept.name, course.name)\r\n                              }\r\n                              className=\"inline-flex items-center gap-2 text-sm bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded\"\r\n                            >\r\n                              <FaTrash /> Delete\r\n                            </button>\r\n                          </div>\r\n                        ))\r\n                      ) : (\r\n                        <p className=\"text-gray-500 italic col-span-full text-center\">\r\n                          No courses available.\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p className=\"text-gray-500 italic text-center mt-4\">\r\n                  No departments found in this university.\r\n                </p>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Courses;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}